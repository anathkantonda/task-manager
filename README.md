# TanStack Task Manager

A simple, full-stack task management application. This project was created as a practical learning exercise after reading through the documentation for **TanStack Start**, **TanStack Router**, **Better Auth**, and **Drizzle ORM** to understand the core flow of data:

1. **Server Functions:** Handling database logic securely on the server using `createServerFn` and `getRequest`.
2. **Schema Definition:** Using Drizzle to define relational tables and TypeScript types, including cross-file schema exports.
3. **Authentication Flow:** Processing user registration and session management through Better Auth with a custom TanStack Route layout.

## Features

* **User Authentication:** Secure sign-up and login powered by Better Auth.
* **Task Management:** Create tasks with titles and descriptions.
* **Status Tracking:** Update tasks through three states: `todo`, `in_progress`, and `done`.
* **Relational Data:** Every task is securely linked to a specific user via PostgreSQL foreign keys.
* **Type Safety:** Full TypeScript integration from the database schema to the UI components.

## Tech Stack

* **Framework:** [TanStack Start](https://tanstack.com/start/latest)
* **Routing:** [TanStack Router](https://tanstack.com/router/v1)
* **Authentication:** [Better Auth](https://www.better-auth.com/)
* **ORM:** [Drizzle ORM](https://orm.drizzle.team/)
* **Database:** PostgreSQL

---

## Environment Configuration

Create a `.env` file in the root directory and provide the following variables:

```env
DATABASE_URL=postgresql://user:password@localhost:5432/task-manager

BETTER_AUTH_SECRET=your_ultra_secure_secret
BETTER_AUTH_URL=http://localhost:3000
```

---

## Database & Migrations

The authentication tables in `auth-schema.ts` were auto-generated by the Better Auth CLI. To synchronize your PostgreSQL database with the auth schema and the custom `tasks` table, follow these steps:

### 1. Generate Migration Files

This command compares your schema files (`db/schema.ts` and `db/auth-schema.ts`) to your current database state and generates the necessary SQL files.

```bash
npx drizzle-kit generate
```

### 2. Push Migrations to Database

Apply the generated SQL to your live PostgreSQL instance.

```bash
npx drizzle-kit migrate
```

### 3. Explore with Drizzle Studio

To view your users, sessions, and tasks in a graphical interface, run:

```bash
npx drizzle-kit studio
```

---

## Getting Started

1. **Install dependencies:**
```bash
npm install
```

2. **Setup Database:** Follow the migration steps listed above.
3. **Run Development Server:**
```bash
npm run dev
```